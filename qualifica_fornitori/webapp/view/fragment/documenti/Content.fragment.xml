<c:FragmentDefinition
	xmlns="sap.m"
	xmlns:c="sap.ui.core"
  xmlns:fb="sap.ui.comp.filterbar"
>
<VBox backgroundDesign="Transparent" height="100%" width="100%" class="sapUiSmallMarginTopBottom">

  <fb:FilterBar
  search="onFilterAvv"
  clear="onReset"
  useToolbar="false"
  showFilterConfiguration="false"
  class="sapUiSmallMarginBottom"
  visible="{= ${userModel>/tipoUtente} === 'Interno' ? true : false }"
>
  <fb:filterGroupItems>
    <fb:FilterGroupItem
      name="CodForn"
      label="{i18n>CodiceFornitore}"
      groupName="Filtri"
      groupTitle="Filtri"
      visibleInFilterBar="true"
    >
      <fb:control>
        <Input
          value="{Filtro>/Fornitore}"
          showValueHelp="true"
          valueHelpRequest=".handleValueHelp"
          submit="onChangeFornitore"
          type="Text"
        />
      </fb:control>
    </fb:FilterGroupItem>
    <fb:FilterGroupItem
      name="descr"
      label="{i18n>Descrizione}"
      groupName="Filtri"
      groupTitle="Filtri"
      visibleInFilterBar="true"
    >
    <fb:control>
      <Input
        value="{Filtro>/descr}"
        showValueHelp="true"
        valueHelpRequest=".handleValueHelp"
        submit="onChangeFornitore"
        type="Text"
      />
    </fb:control>
    </fb:FilterGroupItem>
    <fb:FilterGroupItem
    name="Paese"
    label="{i18n>Paese}"
    groupName="Filtri"
    groupTitle="Filtri"
    visibleInFilterBar="true"
  >
    <fb:control>
      <Input
      value="{Filtro>/Paese}"
        showValueHelp="true"
        valueHelpRequest=".handleValueHelp"
        submit="onChangeFornitore"
        type="Text"
      />
    </fb:control>
  </fb:FilterGroupItem>
  <fb:FilterGroupItem
  name="P.IVA"
  label="{i18n>PIVA}"
  groupName="Filtri"
  groupTitle="Filtri"
  visibleInFilterBar="true"
>
  <fb:control>
    <Input
    value="{Filtro>/piva}"
      showValueHelp="true"
      valueHelpRequest=".handleValueHelp"
      submit="onChangeFornitore"
      type="Text"
    />
  </fb:control>
</fb:FilterGroupItem>

  </fb:filterGroupItems>
</fb:FilterBar>
<Table
      sticky="HeaderToolbar,ColumnHeaders"
      growing="true"
      autoPopinMode="true"
      class="table"
      items="{docModel>/}"
      > 
      <headerToolbar>
        <OverflowToolbar design="Transparent" height="10vh">
          <VBox class="sapUiResponsivePadding--content"
          >
          <Text text="Documenti - Gestione" />      
          </VBox>
        </OverflowToolbar>
        </headerToolbar>

      <columns>
        <Column width="100px"  hAlign="Left">
          <Text text="{i18n>Descrizione	}" />
        </Column>
        <Column width="60px"  hAlign="Center">
          <Text text="{i18n>Scarica}" />
        </Column>
        <Column width="60px"  hAlign="Center" visible="{= ${userModel>/tipoUtente} === 'Interno' ? true : false }">
          <Text text="{i18n>Validazione}" />
        </Column>
        <Column width="60px"  hAlign="Center" visible="{= ${userModel>/tipoUtente} === 'Interno' ? false : true }">
          <Text text="{i18n>Allega}" />
        </Column>
        <Column width="60px"  hAlign="Center">
          <Text text="{i18n>Stato}" />
        </Column>
        <Column width="130px" hAlign="Center" visible="{= ${userModel>/tipoUtente} === 'Interno' ? true : false }">
          <Text text="{i18n>Data di caricamento }" />
          </Column>   
          <Column width="60px"  hAlign="Center" visible="{= ${userModel>/tipoUtente} === 'Interno' ? false : true }">
            <Text text="{i18n>Esito}" />
          </Column>
        <Column width="90px" hAlign="Center">
        <Text text="{i18n>Scadenza}" />
      </Column> 
            
      </columns>
      <items>
        <ColumnListItem
         
        >
          <cells>
            <Text text="{docModel>descrizione}" />
          </cells>
          <cells>
            <Button
                icon="{docModel>scarica}"
                type="Emphasized"
            />
          </cells>
          <cells>
            <c:Icon
                alt="Download"              
                size="1.3rem"
                src="{docModel>validazione}"
                color="blue"
            />
          </cells>
          <cells>
            <Button
                type="Emphasized"
                icon="{docModel>allega}"                
            />
          </cells>
          <cells>
            <c:Icon
                alt="Download"              
                size="1.3rem"
                src="{docModel>stato}"
                color="{docModel>color}"
            />
          </cells>
          <cells>
            <Text text="{docModel>data}" />
          </cells>
          <cells>
            <Text text="{docModel>esito_validazione}" />
          </cells>
          <cells>
            <Text text="{docModel>scadenza}" />
          </cells>
          
        </ColumnListItem>
      </items>
      </Table>
</VBox>
</c:FragmentDefinition>